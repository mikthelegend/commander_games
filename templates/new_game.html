<div id="add_new_game_card" class="modal">

    <h1>Log New Game</h1>

    <form method="post" action="{{ url_for('new_game') }}" id="new_game_form">
        <div class="player-deck-row">
            <label>
                Winning player
                <select name="winning_player" class="player_select" required>
                    <option value="">Select a player</option>
                    <!-- Options will be populated by JavaScript -->
                </select>
            </label><br>

            <label>
                Winning deck
                <select name="winning_deck" class="deck_select" required>
                    <option value="">Select a deck</option>
                    <!-- Options will be populated by JavaScript -->
                </select>
            </label>
        </div>

        <fieldset>
            <legend>Losing players & decks</legend>

            <div id="losers">
                <div class="player-deck-row">
                    <label>
                        Losing player
                        <select name="losing_players[]" class="player_select" required>
                            <option value="">Select a player</option>
                            <!-- Options will be populated by JavaScript -->
                        </select>
                    </label><br>

                    <label>
                        Losing deck
                        <select name="losing_decks[]" class="deck_select" required>
                            <option value="">Select a deck</option>
                            <!-- Options will be populated by JavaScript -->
                        </select>
                    </label>
                </div>
            </div>

            <div class="controls">
                <button type="button" id="add-loser">+</button>
                <button type="button" id="remove-loser">-</button>
            </div>
        </fieldset><br>

        <label>
            Date
            <input type="date" name="date" />
        </label><br>

        <label>
            Notes
            <textarea name="notes" rows="5" placeholder="Notes about the game"></textarea>
        </label><br>

        <div>
            <button type="submit">Save game</button>
            <button type="button" id="cancel_new_game">Cancel</button>
        </div>
    </form>
</div>

<script src="{{ url_for('static', filename='new_game.js') }}"></script>